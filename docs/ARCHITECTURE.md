# BookClip - アーキテクチャ設計資料

## システム全体像
BookNoteは、ユーザーのスマートフォン上で動作するReact Nativeアプリケーションと、Supabaseを中心としたクラウドバックエンドで構成されます。  
全体のアーキテクチャは以下のコンポーネントに分かれます。

## フロントエンド
- **プラットフォーム:** React Native（Expo利用）
- **主な機能:**
  - **バーコードスキャン:** ExpoのカメラAPIを活用し、バーコードを読み取り書籍情報取得のトリガーとする
  - **カメラ撮影・トリミング:** ユーザーが本のページを撮影し、内蔵のトリミングツールで必要部分を抽出
  - **OCR処理:** ローカルで簡易OCRエンジンまたはクラウドOCR APIとの連携でテキスト抽出
  - **UI/UX:** 直感的なナビゲーションと、編集・削除、タグ付け、検索機能の実装

## バックエンド（Supabase利用）
- **データベース:** PostgreSQL
  - **テーブル例:**
    - **Books:** 書籍ID、バーコード、表紙URL、タイトル、著者、その他メタデータ
    - **Pages:** ページID、書籍ID、画像URL、テキスト抽出結果、ページ番号、タグ情報
    - **Users:** ユーザーID、認証情報、プロフィール情報
- **ストレージ:** 画像データ（表紙、ページ撮影画像）の保存
- **認証:** Supabase Authenticationを利用して、ユーザーごとのデータ管理を実現
- **API:**  
  - REST APIまたはGraphQL APIを用いて、フロントエンドからのリクエストを処理
  - リアルタイム同期機能により、データ更新時にフロントエンドへ即時反映

## データ移行機能
- ユーザーデータはSupabaseに常時バックアップされるため、端末変更時は同一アカウントでログインするだけでデータ復元が可能
- バックアップデータの整合性やセキュリティを担保する仕組みを実装

## セキュリティとパフォーマンス
- **セキュリティ:**
  - ユーザー認証、認可、データ暗号化の徹底
  - APIアクセス制御、CORSポリシーの厳格な運用
- **パフォーマンス:**
  - キャッシュ戦略（Supabaseのリアルタイム機能を活用し、最新データの効率的な反映）
  - 画像アップロード・ダウンロードの最適化

## 今後の拡張性
- 他のOCRエンジンやAI解析機能（感情分析、要約機能）の追加
- 他デバイス（タブレット、ウェブブラウザ）への展開
- 他サービス（Kindle、オンライン図書館など）との連携APIの提供
